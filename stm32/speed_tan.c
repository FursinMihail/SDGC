#include "speed_tan.h"

double mas[901] = {0,0.00174445,0.0034889,0.00523338,0.00697789,0.00872244,0.010467,0.0122117,0.0139565,0.0157013,0.0174462,0.0191912,0.0209364,0.0226817,0.0244271,0.0261726,0.0279184,0.0296643,0.0314103,0.0331566,0.0349031,0.0366497,0.0383966,0.0401438,0.0418911,0.0436388,0.0453867,0.0471349,0.0488833,0.0506321,0.0523812,0.0541306,0.0558803,0.0576303,0.0593808,0.0611315,0.0628827,0.0646342,0.0663862,0.0681385,0.0698912,0.0716444,0.073398,0.0751521,0.0769066,0.0786616,0.0804171,0.0821731,0.0839296,0.0856866,0.0874441,0.0892021,0.0909607,0.0927199,0.0944796,0.0962399,0.0980008,0.0997623,0.101524,0.103287,0.105051,0.106815,0.108579,0.110345,0.112111,0.113877,0.115645,0.117413,0.119182,0.120951,0.122722,0.124493,0.126265,0.128037,0.129811,0.131585,0.13336,0.135136,0.136913,0.13869,0.140469,0.142248,0.144028,0.145809,0.147591,0.149374,0.151158,0.152943,0.154728,0.156515,0.158303,0.160091,0.161881,0.163672,0.165463,0.167256,0.16905,0.170845,0.172641,0.174438,0.176236,0.178035,0.179835,0.181637,0.183439,0.185243,0.187048,0.188854,0.190661,0.19247,0.194279,0.19609,0.197902,0.199716,0.20153,0.203346,0.205164,0.206982,0.208802,0.210623,0.212446,0.214269,0.216095,0.217921,0.219749,0.221579,0.223409,0.225242,0.227075,0.22891,0.230747,0.232585,0.234425,0.236266,0.238108,0.239952,0.241798,0.243645,0.245494,0.247344,0.249196,0.25105,0.252905,0.254762,0.256621,0.258481,0.260343,0.262206,0.264071,0.265938,0.267807,0.269677,0.27155,0.273424,0.275299,0.277177,0.279056,0.280937,0.28282,0.284705,0.286592,0.288481,0.290371,0.292264,0.294158,0.296055,0.297953,0.299853,0.301756,0.30366,0.305566,0.307475,0.309385,0.311297,0.313212,0.315129,0.317047,0.318968,0.320891,0.322816,0.324744,0.326673,0.328605,0.330539,0.332475,0.334413,0.336354,0.338297,0.340242,0.34219,0.34414,0.346092,0.348046,0.350003,0.351963,0.353924,0.355889,0.357855,0.359824,0.361796,0.36377,0.365746,0.367725,0.369707,0.371691,0.373678,0.375667,0.377659,0.379654,0.381651,0.383651,0.385653,0.387659,0.389667,0.391677,0.393691,0.395707,0.397726,0.399748,0.401772,0.4038,0.40583,0.407863,0.409899,0.411938,0.41398,0.416025,0.418073,0.420124,0.422178,0.424235,0.426295,0.428358,0.430424,0.432493,0.434565,0.436641,0.438719,0.440801,0.442886,0.444974,0.447066,0.44916,0.451258,0.45336,0.455464,0.457572,0.459684,0.461799,0.463917,0.466038,0.468163,0.470292,0.472424,0.47456,0.476699,0.478841,0.480987,0.483137,0.485291,0.487448,0.489609,0.491773,0.493941,0.496113,0.498289,0.500468,0.502652,0.504839,0.50703,0.509225,0.511423,0.513626,0.515833,0.518043,0.520258,0.522476,0.524699,0.526926,0.529157,0.531392,0.533631,0.535874,0.538122,0.540373,0.542629,0.544889,0.547154,0.549423,0.551696,0.553974,0.556256,0.558542,0.560833,0.563128,0.565428,0.567733,0.570042,0.572355,0.574674,0.576996,0.579324,0.581656,0.583993,0.586335,0.588682,0.591033,0.593389,0.59575,0.598116,0.600487,0.602863,0.605244,0.60763,0.610021,0.612417,0.614819,0.617225,0.619637,0.622054,0.624476,0.626903,0.629336,0.631774,0.634217,0.636666,0.63912,0.64158,0.644045,0.646516,0.648993,0.651475,0.653962,0.656456,0.658955,0.661459,0.66397,0.666486,0.669009,0.671537,0.674071,0.676611,0.679157,0.681709,0.684267,0.686832,0.689402,0.691979,0.694562,0.697151,0.699746,0.702348,0.704956,0.707571,0.710192,0.712819,0.715453,0.718094,0.720741,0.723395,0.726056,0.728723,0.731398,0.734079,0.736767,0.739461,0.742163,0.744872,0.747588,0.750311,0.753041,0.755778,0.758523,0.761274,0.764034,0.7668,0.769574,0.772355,0.775144,0.77794,0.780744,0.783556,0.786375,0.789202,0.792037,0.79488,0.79773,0.800589,0.803456,0.80633,0.809213,0.812104,0.815003,0.81791,0.820826,0.82375,0.826682,0.829623,0.832572,0.83553,0.838497,0.841472,0.844456,0.847449,0.850451,0.853461,0.856481,0.859509,0.862547,0.865594,0.86865,0.871715,0.87479,0.877874,0.880968,0.884071,0.887184,0.890306,0.893438,0.89658,0.899731,0.902893,0.906064,0.909246,0.912438,0.91564,0.918852,0.922074,0.925307,0.92855,0.931804,0.935068,0.938343,0.941629,0.944926,0.948233,0.951552,0.954881,0.958222,0.961574,0.964937,0.968311,0.971697,0.975094,0.978503,0.981924,0.985356,0.9888,0.992256,0.995724,0.999204,1.0027,1.0062,1.00972,1.01325,1.01679,1.02034,1.02391,1.02749,1.03108,1.03469,1.03831,1.04194,1.04558,1.04924,1.05291,1.0566,1.0603,1.06401,1.06773,1.07148,1.07523,1.079,1.08278,1.08658,1.09039,1.09421,1.09805,1.10191,1.10578,1.10966,1.11356,1.11748,1.12141,1.12536,1.12932,1.13329,1.13729,1.1413,1.14532,1.14936,1.15342,1.15749,1.16158,1.16569,1.16981,1.17395,1.17811,1.18228,1.18647,1.19068,1.19491,1.19915,1.20342,1.2077,1.21199,1.21631,1.22064,1.225,1.22937,1.23376,1.23817,1.2426,1.24704,1.25151,1.256,1.2605,1.26503,1.26958,1.27414,1.27873,1.28334,1.28796,1.29261,1.29728,1.30197,1.30668,1.31142,1.31617,1.32095,1.32575,1.33057,1.33542,1.34028,1.34517,1.35009,1.35502,1.35998,1.36496,1.36997,1.375,1.38005,1.38513,1.39024,1.39537,1.40052,1.4057,1.4109,1.41613,1.42139,1.42667,1.43198,1.43731,1.44267,1.44806,1.45348,1.45892,1.46439,1.46989,1.47542,1.48098,1.48656,1.49218,1.49782,1.50349,1.5092,1.51493,1.52069,1.52649,1.53231,1.53817,1.54405,1.54997,1.55592,1.56191,1.56792,1.57397,1.58006,1.58617,1.59232,1.59851,1.60473,1.61098,1.61727,1.6236,1.62996,1.63635,1.64279,1.64926,1.65577,1.66231,1.6689,1.67552,1.68218,1.68888,1.69562,1.7024,1.70922,1.71608,1.72299,1.72993,1.73692,1.74394,1.75102,1.75813,1.76529,1.77249,1.77974,1.78703,1.79437,1.80175,1.80918,1.81666,1.82419,1.83176,1.83938,1.84705,1.85478,1.86255,1.87037,1.87824,1.88616,1.89414,1.90217,1.91025,1.91839,1.92658,1.93483,1.94313,1.95149,1.95991,1.96838,1.97692,1.98551,1.99416,2.00287,2.01164,2.02048,2.02938,2.03834,2.04736,2.05645,2.0656,2.07482,2.08411,2.09347,2.10289,2.11239,2.12195,2.13158,2.14129,2.15107,2.16092,2.17085,2.18085,2.19093,2.20109,2.21133,2.22164,2.23204,2.24251,2.25307,2.26371,2.27444,2.28525,2.29615,2.30713,2.31821,2.32937,2.34063,2.35197,2.36342,2.37495,2.38658,2.39831,2.41014,2.42207,2.4341,2.44623,2.45846,2.47081,2.48325,2.49581,2.50848,2.52125,2.53414,2.54715,2.56027,2.57351,2.58686,2.60034,2.61394,2.62767,2.64152,2.6555,2.66962,2.68386,2.69824,2.71275,2.7274,2.74219,2.75713,2.7722,2.78743,2.8028,2.81832,2.834,2.84984,2.86583,2.88198,2.89829,2.91478,2.93143,2.94825,2.96524,2.98241,2.99976,3.0173,3.03502,3.05293,3.07103,3.08932,3.10781,3.12651,3.14541,3.16452,3.18384,3.20337,3.22313,3.24311,3.26331,3.28375,3.30442,3.32534,3.34649,3.3679,3.38956,3.41147,3.43365,3.4561,3.47882,3.50181,3.52509,3.54866,3.57252,3.59668,3.62114,3.64591,3.67101,3.69642,3.72217,3.74825,3.77468,3.80145,3.82859,3.85608,3.88396,3.91221,3.94085,3.96988,3.99932,4.02918,4.05945,4.09016,4.12131,4.15291,4.18498,4.21751,4.25053,4.28404,4.31805,4.35258,4.38764,4.42324,4.4594,4.49612,4.53342,4.57131,4.60982,4.64895,4.68872,4.72914,4.77024,4.81203,4.85452,4.89774,4.94171,4.98644,5.03195,5.07827,5.12542,5.17342,5.2223,5.27207,5.32277,5.37442,5.42704,5.48067,5.53534,5.59107,5.6479,5.70586,5.76499,5.82532,5.88688,5.94973,6.01389,6.07941,6.14634,6.21472,6.2846,6.35602,6.42905,6.50374,6.58013,6.65831,6.73832,6.82023,6.90412,6.99005,7.0781,7.16836,7.2609,7.35581,7.4532,7.55314,7.65576,7.76116,7.86945,7.98075,8.09519,8.21292,8.33406,8.45879,8.58724,8.71961,8.85606,8.99679,9.14202,9.29195,9.44682,9.60688,9.7724,9.94365,10.121,10.3046,10.495,10.6925,10.8976,11.1105,11.3319,11.5622,11.802,12.0518,12.3124,12.5845,12.8687,13.166,13.4773,13.8036,14.146,14.5057,14.884,15.2826,15.703,16.147,16.6168,17.1147,17.6432,18.2052,18.8042,19.4437,20.1282,20.8625,21.6522,22.5039,23.4253,24.4252,25.514,26.7043,28.0109,29.4518,31.0487,32.8285,34.8246,37.0789,39.6449,42.5923,46.0128,50.0303,54.8162,60.6141,67.783,76.8748,88.7826,105.055,128.63,165.845,233.359,393.58,1255.77};
	
double s_tan(double d){
		uint8_t neg = 0;
		
		if(d < 0){
				neg = 1;
				d = -d;
		}
	
		int li = 0, ri = 901;
		while(li+1 < ri){
				int zn = (li + ri + 1) / 2;
				if(mas[zn] < d){
						li = zn;
				}
				else{
						ri = zn;
				}
		}
		
		double ret = ((li+ri)/2) * 0.1;
		if(neg)
			return -ret;
		else
			return ret;
}